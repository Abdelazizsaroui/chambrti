{% extends 'base.html' %}

{% block title %} CHAMBRTI | Cochambre {% endblock title %}

{% block content %}

	    <nav class="navbar navbar-light bg-white navbar-border shadow-sm">
	    <div class="container">
			<h3>Ajouter cochambre</h3>

	      <div class="dropleft px-3">
	        <a class="text-primary" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 2 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
	        </a>
	        <div class="dropdown-menu shadow" aria-labelledby="dropdownMenuButton">
	        <div class="px-3">
	          <p>{{user.get_full_name}}</p>
	        </div>
	          <div class="dropdown-divider"></div>
	           <a class="dropdown-item" href="{% url 'logout' %}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Quitter</a>
	        </div>
	      </div>

			</div>
	    </nav>

	<div class="container py-3">
		<span class="text-center"><p>Vous devez d'abord ajouter votre cochambre pour accéder au choix des chambres</h4>
		<p>Votre cochambre doit être inscrit pour pouvoir l'ajouter</p></span>
		<div class="row justify-content-center">
			<div class="col-md-4 p-2 mx-2">
				<form method="GET">
					<input class="form-control" type="text" name="search" placeholder="Nom du cochambre">
					<button class="btn btn-sm btn-block px-3 py-2 mt-2 shadow-none btn-primary" type="submit"><strong><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 1 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg> recherche</strong></button>
				</form>
			</div>
		</div>
		<div class="mt-3 pt-3">
			<div class="row justify-content-center">
			{% for obj in results %}
				{% if obj.id != user.id %}
				<div class="col-8 col-md-4 col-lg-3 mb-3">
					<div class="border shadow-sm rounded p-3 text-center">
					<h4>{{obj.get_full_name}}</h4>
					{% if obj.groups.all.last.name == 'second' %}
					<p>2ème Année</p>
					{% else %}
					<p>3ème Année</p>
					{% endif %}
					{% if obj.roommate1.all.count != 0 or obj.roommate2.all.count != 0 %}
					<p class="text-danger mb-0">Indisponible</p>
					{% else %}
					<a href="{% url 'add' obj.id %}"><strong><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 2 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg> AJOUTER</strong></a>
					{% endif %}
					</div>
				</div>
				{% endif %}
			{% endfor %}
			</div>
		</div>
	</div>

{% endblock content %}